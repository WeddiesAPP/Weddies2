<!DOCTYPE html>
<html>
<head>
    <title>Weddies - Your Club Search Engine</title>
    <meta name="description" content="Find and discover clubs using Weddies, the ultimate club search engine. Search by club name, league, and date.">
    <link rel="icon" href="Weddies-bg.png" type="image/x-icon">
    <link rel="shortcut icon" href="Weddies.png" type="image/x-icon">
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        .loading-animation {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #32951e; /* Change to desired background color, e.g., green */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        opacity: 1;
        transition: opacity 0.5s ease-in-out;
      }

      .loading-animation .logo-weddies-bg {
        animation: zoom 2s ease-in-out;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50%;
        height: 50%;
        max-width: 300px; /* Adjust the maximum width as desired */
        max-height: 300px; /* Adjust the maximum height as desired */
        object-fit: contain;
      }

      @keyframes zoom {
        0% {
          transform: translate(-50%, -50%) scale(1.3);
        }
        100% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(1);
        }
      }





      .profile-icon {
           position: fixed;
           top: 10px;
           right: 10px;
           width: 40px;
           height:40px;
           background-color: transparent;
           border-radius: 50%;
           display: flex;
           align-items: center;
           justify-content: center;
           color: #fff;
           font-size: 24px;
           cursor: pointer;
           z-index: 9999;
         }
         .popup-profile {
             position: absolute;
             z-index: 1001; /* Ensures the popup appears above the map */
             background: white;
             border: 1px solid #ccc;

             width: 300px;
             height: 400px;
             left: 40%;
             top: 40%;

             overflow: auto; /* Enables scrolling if the content exceeds the popup's size */
         }
         .club-div {
   display: flex;
   align-items: center;
   margin-bottom: 10px;
 }

 .club-div img {
   margin-right: 10px;
   padding: 5px; /* Add padding to the logo */
 }

 .club-div span {
   margin-right: 5px;
   padding: 5px; /* Add padding to the text */
 }


#closePopup {
    position: absolute;
    right: 20px;
    top: 20px;
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
}




        .leaflet-control-attribution {
            display: none;
        }
        .container {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            background-color: transparent;
        }

        .club-logo-2 {
            width: 40px;
            height: 40px;
            margin-right: 10px;
            border-radius: 50%;
            object-fit: cover;
        }

        .search-container {
            position: absolute;
            top: 20px;
            left: 50px;
            background-color: rgba(50, 149, 30, 0.5);
            padding: 20px;
            z-index: 999;
            display: none;
        }

        .search-container input[type="text"],
        .search-container select,
        .search-container input[type="range"] {
            font-size: 18px;
            padding: 10px;
            width: 250px;
        }

        .search-container input[type="text"],
        .search-container select {
            height: 40px;
        }

        .search-container input[type="range"] {
            height: 20px;
        }

        .search-container #date-section label,
        .search-container #date-input {
            font-size: 18px;

            height: 40px;
            width: 200px;
            align-self: center;
        }

        .search-container #search-section > * {
            display: block;
            margin-bottom: 10px;
        }

        #mapid {
            width: 100%;
            height: calc(100vh - 40px);
            background-color: transparent;
        }


  #filters-button {
    color: white;
    font-weight: bold;
    background-color: transparent;
    border: none;
    font-size: 18px;
  }
  #close-button {
    position: absolute;
    top: 5px;
    right: 20px;
    color: white;
    font-weight: bold;
    background-color: transparent;
    border: none;
    font-size: 18px;
  }

        #search-section {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #mapid {
            width: 100%;
            flex-grow: 1;
            background-color: transparent;
        }

        #search-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f8f9fa00;
        }

        #search-bar {
            position: relative;
        }

        #search-input {
            width: 200px;
            padding: 5px;
        }

        #search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-top: none;
            display: none;
        }

        #search-suggestions ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        #search-suggestions li {
            padding: 5px;
            cursor: pointer;
        }

        #search-suggestions li:hover {
            background-color: #f8f9fa00;
        }

        #search-suggestions .club-logo {
            width: 24px;
            height: 24px;
            margin-right: 10px;
        }

        #search-suggestions .suggestion {
            display: flex;
            align-items: center;
            padding: 5px;
            cursor: pointer;
        }

        #search-suggestions span {
            margin-left: 5px;
        }

        #visited-search-input {
            width: 200px;
            padding: 5px;
        }
        #visited-suggestions {
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    max-height: 200px;
    overflow-y: auto;
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    border-top: none;
    display: none;
}

#visited-suggestions ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
}

#visited-suggestions li {
    padding: 5px;
    cursor: pointer;
}

#visited-suggestions li:hover {
    background-color: #f8f9fa00;
}

#visited-suggestions .club-logo {
    width: 24px;
    height: 24px;
    margin-right: 10px;
}

#visited-suggestions .suggestion {
    display: flex;
    align-items: center;
    padding: 5px;
    cursor: pointer;
}

#visited-suggestions span {
    margin-left: 5px;
}


        #mapid {
            width: 100%;
            height: 100vh;
        }

        .custom-div-icon {
            position: relative;
            width: 50px;
            height: 50px;
        }

        .club-logo {
            position: absolute;
            width: 40px;
            height: 40px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }

        .marker-pin {
      width: 40px;
      height: 40px;
      border-radius: 50% 50% 50% 0;
      position: absolute;
      transform: rotate(-45deg);
      left: 50%;
      top: 50%;
      margin: -20px 0 0 -20px;
      z-index: 1;
      background: white;
    }

        .marker-pin::after {
            content: '';
            width: 40px;
            height: 40px;
            margin: 5px 0 0 5px;
            background: club.color;
            position: absolute;
            border-radius: 50%;
        }

        .logo-weddies {
            width: 128px;
            height: 128px;
            margin-right: 10px;
        }
        .filters-container {

    position: absolute;
    top: 100px;
    left: 20px;
    z-index: 999;
  background-color: rgba(50, 149, 30, 0.5);
    padding: 20px;
  }
  .logo-weddies-bg {
    position: absolute;
bottom: 20px;
left: 20px;
z-index: 999;
width: 64px;
height: 64px;
}




.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 200px;
  max-height: 200px;
  overflow-y: auto;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;

left: 50%;
transform: translate(-50%, 0%);
}

.dropdown-content div {
  color: black;
  padding: 12px 10px; /* Adjust the padding as desired */
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px;
}


.dropdown-content div.selected {
  background-color: lightgreen;
}

.dropdown-content div:hover {background-color: #ddd;}

.dropdown:hover .dropdown-content {display: block;}

.dropdown:hover .dropbtn {background-color: #3e8e41;}

.dropbtn {
  width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px; /* Adjust the maximum width as desired */
}
.popup-container {
  width: 300px;

  display: flex;
  flex-direction: column;
  align-items: center;
}

.popup-stadium-image {
  width: 100%;
  max-height: 50px;
  object-fit: cover;
  margin-bottom: 10px;
}

.popup-club-info {
  text-align: center;
}

.popup-club-logo {
  width: 50px;
  height: 50px;
}
/* Rest of the CSS code remains the same */


.close {
  color: #aaa;
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

/* Rest of the CSS code remains the same */

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

form {
  display: flex;
  flex-direction: column;
}

input {
  margin-bottom: 10px;
  padding: 5px;
}

button {
  padding: 10px;
}

.separator {
  margin: 10px 0;
  text-align: center;
}


    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>


</head>
<body>

  <div class="loading-animation">
    <img src="Weddies.png" alt="Loading..." class="logo-weddies-bg" />
  </div>
  <div class="container">
    <div class="search-container">
<button id="close-button">Close</button>
    <div id="search-section">
        <div id="search-bar">
            <input type="text" id="search-input" placeholder="Search for a club">
            <div id="search-suggestions"></div>
        </div>
        <div id="visited-search-bar">
       <input type="text" id="visited-search-input" placeholder="Visited Clubs: 0">
       <div id="visited-suggestions"></div>
     </div>
        <div id="date-section">
    <label for="date-input"></label>
    <input type="date" id="date-input">
</div>
<div class="dropdown">
<button class="dropbtn" id="dropdown-button">Select League</button>
<div class="dropdown-content" id="dropdown-content"></div>
</div>

<input type="range" id="radius-slider" min="1" max="10000" value="1" step="1">
    <label for="radius-slider" style="color: white; font-weight: bold;">Search Radius (Km)</label>
    <span id="radius-value" style="color: white; font-weight: bold;">All</span>
    </div>
  </div>

    <div id="mapid">
      <div class="profile-icon" id="profileIcon">
         <img src="profile.png" alt="Profile Image" width="40" height="40">
       </div>
       <div id="profilePopup" class="popup-profile" style="display:none">
   <h2>Visited Clubs</h2>
   <div id="visitedClubContainer"></div>
   <button id="closePopup">Close</button>
 </div>

</div>



     <img src="Weddies-bg.png" alt="Logo" class="logo-weddies-bg"></div>
    <div class="filters-container">
       <button id="filters-button">Filters</button>
   </div>
  </div>
<script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <script>
    window.addEventListener("load", function() {
  var loadingAnimation = document.querySelector(".loading-animation");
  loadingAnimation.style.opacity = "0";
  setTimeout(function() {
    loadingAnimation.style.display = "none";
  }, 300); // Adjust the timeout value to match the transition duration in CSS
});

    var searchContainer = document.querySelector(".search-container");
    var filtersContainer = document.querySelector(".filters-container");
    var closeButton = document.getElementById("close-button");
    var filtersButton = document.getElementById("filters-button");

    closeButton.addEventListener("click", function() {
        searchContainer.style.display = "none";
        filtersContainer.style.display = "flex";
    });

    filtersButton.addEventListener("click", function() {
        filtersContainer.style.display = "none";
        searchContainer.style.display = "flex";
    });

    function addClubLogosToMap(clubs) {
      clubs.forEach((club, index) => {
  const clubLatLng = club.location;

  const markerIcon = L.divIcon({
    className: 'custom-div-icon',
    html: `
      <div class='marker-pin'></div>
      <img src="${club.clubImageName}" alt="${club.clubName}" style="width: 32px; height: 32px; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); z-index: 2;" />`,
    iconSize: [50, 50], // Adjust this size as needed to match the pin
    iconAnchor: [25, 50]
  });

  const marker = L.marker([club.latitude, club.longitude], { icon: markerIcon })
     .on('click', () => {
         showFixedPopup(createPopupContent(club));
     })
     .addTo(map);

       clubMarkers[club.clubName] = marker;
});


  }
  // Function to show a fixed popup in the center of the screen
  function showFixedPopup(content) {
      // Check if a popup already exists and remove it
      const existingPopup = document.getElementById('fixed-popup');
      if (existingPopup) {
          document.body.removeChild(existingPopup);
      }

      // Create a container for the popup
      const popupContainer = document.createElement('div');
      popupContainer.id = 'fixed-popup';
      popupContainer.innerHTML = content;

      // Append the container to the body
      document.body.appendChild(popupContainer);

      // Add some basic CSS to center the popup on the screen
      const css = `
          #fixed-popup {
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 300px; // Adjust as needed
              height: 200px; // Adjust as needed
              background: white; // Background is now white
              padding: 10px;
              border: 1px solid #000;
              z-index: 1000; // Ensures it appears above other elements
          }
      `;

      // Add the CSS to the head of the document
      const style = document.createElement('style');
      if (style.styleSheet) {
          style.styleSheet.cssText = css;
      } else {
          style.appendChild(document.createTextNode(css));
      }
      document.head.appendChild(style);
  }


    const darkLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', { maxZoom: 19 });
    const lightLayer = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19
    });
    const baseMaps = {
      "Dark Map": darkLayer,
      "Light Map": lightLayer
    };

    const map = L.map('mapid', {
      center: [52.1326, 5.2913],
      zoom: 7,
      layers: [lightLayer] // Dark Layer by default
    });
    var layerControl = L.control.layers(baseMaps, null, {
      position: 'bottomright' // Set the position to 'bottomright'
    }).addTo(map);


    // Fetch the CSV file
    fetch('teams.csv')
      .then((response) => response.text())
      .then((csvString) => {
        // Parse the CSV string
        Papa.parse(csvString, {
          header: true,
          dynamicTyping: true,
          skipEmptyLines: true,
          complete: function (results) {
            const clubs = results.data.map((row) => {
              return {
                leagueID: row.leagueID,
                clubID: row.clubID,
                clubName: row.clubName,
                clubCode: row.clubCode,
                country: row.country,
                founded: row.founded,
                national: row.national,
                clubImageName: row.clubImageName,
                stadiumID: row.stadiumID,
                stadiumName: row.stadiumName,
                stadiumAddress: row.stadiumAddress,
                cityName: row.cityName,
                capacity: row.capacity,
                surface: row.surface,
                stadiumImageName: row.stadiumImageName,
                latitude: row.latitude,
                longitude: row.longitude,
                firstColor: row.firstColor,
                secondColor: row.secondColor,
              };
            });
             addClubLogosToMap(clubs);
             initializeSearch(clubs);
             RadiusSlider(clubs);
            // Now you have an array of club objects, you can use it as you wish
            console.log(clubs);
          },
        });
      })
      .catch((error) => {
        console.error('An error occurred while fetching the CSV file:', error);
      });


        // Any additional processing on the 'clubs' array can be done here



        function createPopupContent(club) {
          return `
            <div class="popup-container">
              <img class="popup-stadium-image" src="${club.stadiumImageName}" alt="${club.stadiumName}">
              <div class="popup-club-info">
                <img class="popup-club-logo" src="${club.clubImageName}" alt="${club.clubName}">
                <h3>${club.clubName}</h3>
                <p><strong>Country:</strong> ${club.country}</p>
                <p><strong>Founded:</strong> ${club.founded}</p>
                <p><strong>Stadium:</strong> ${club.stadiumName}</p>
                <p><strong>Address:</strong> ${club.stadiumAddress}</p>
                <p><strong>City:</strong> ${club.cityName}</p>
                <p><strong>Capacity:</strong> ${club.capacity}</p>
                <p><strong>Surface:</strong> ${club.surface}</p>
                <a href="https://www.google.com/maps/dir/?api=1&destination=${club.latitude},${club.longitude}" target="_blank" style="background-color: blue; color: white; padding: 8px 12px; border-radius: 4px; text-decoration: none;">Navigate To</a>
              </div>
            </div>
          `;
        }




// Function to create the custom dropdown component
const leagueLogos = {
  'Premier League': 'Premier League.png',
  'Bundesliga': 'Bundesliga.png',
  'Ligue 1': 'Ligue 1.png',
  'Serie A': 'Serie A.png',
  'Eredivisie': 'Eredivisie.png',
  'La Liga': 'La Liga.png',
  'Liga NOS': 'Liga NOS.png',
  'MLS': 'MLS.png',
  'Championship': 'Championship.png',
  'Jupiler Pro League': 'Jupiler Pro League.png',
  'Keuken Kampioen Divisie': 'Keuken Kampioen Divisie.png',
  'Tweede Divisie': 'Tweede Divisie.png',
  'Derde Divisie Zaterdag': 'Derde Divisie Zaterdag.png',
  'Derde Divisie Zondag': 'Derde Divisie Zondag.png',

};

const dropdownButton = document.getElementById('dropdown-button');
const dropdownContent = document.getElementById('dropdown-content');

let selectedLeagues = [];
let clubMarkers = [];
function filterClubsByLeague() {
  for (const club of clubs) {
    if (selectedLeagues.includes(club.league) || selectedLeagues.length === 0) {
      clubMarkers[club.name].addTo(map);
    } else {
      clubMarkers[club.name].remove();
    }
  }
}
//

//SEARCH SEARCH Search


//
function initializeSearch(clubs) {
  const searchInput = document.getElementById('search-input');
  const searchSuggestions = document.getElementById('search-suggestions');
  searchSuggestions.style.zIndex = '1'; // Set a lower z-index value for the search suggestions

  searchInput.addEventListener('input', (e) => {
  const searchValue = e.target.value.toLowerCase();
  if (searchValue === '') {
    searchSuggestions.style.display = 'none';
    return;
  }
  const filteredClubs = clubs.filter(club => club.clubName.toLowerCase().includes(searchValue));

  // Clear previous suggestions
  searchSuggestions.innerHTML = '';

  // Add new suggestions
  filteredClubs.forEach(club => {
    const suggestion = document.createElement('div');
    suggestion.classList.add('suggestion');

    // Create logo element
    const logo = document.createElement('img');
    logo.classList.add('club-logo-2');
    logo.src = club.clubImageName; // Changed to the new club property
    suggestion.appendChild(logo);

    // Create club info container
    const clubInfo = document.createElement('div');
    clubInfo.classList.add('club-info');

    // Create club name element
    const clubName = document.createElement('span');
    clubName.textContent = club.clubName; // Changed to the new club property
    clubName.style.display = 'block';
    clubInfo.appendChild(clubName);

    // Create stadium name element
    const stadiumName = document.createElement('span');
    stadiumName.classList.add('stadium-name');
    stadiumName.textContent = club.stadiumName; // Changed to the new club property
    stadiumName.style.display = 'block';
    stadiumName.style.fontSize = '0.6em';
    clubInfo.appendChild(stadiumName);

    suggestion.appendChild(clubInfo);

    suggestion.addEventListener('click', () => {
      searchInput.value = club.clubName; // Changed to the new club property
      searchSuggestions.innerHTML = '';
      map.setView([club.latitude, club.longitude], 12); // Updated to use the new club properties
      // Update map markers based on selected club
      // ...
    });

    searchSuggestions.appendChild(suggestion);
  });

  // Show/hide suggestions based on input value
  if (filteredClubs.length > 0) {
    searchSuggestions.style.display = 'block';
  } else {
    searchSuggestions.style.display = 'none';
  }
});


  document.addEventListener('click', (e) => {
    if (!searchInput.contains(e.target)) {
      searchSuggestions.style.display = 'none';
    }
  });
}


function createLeagueFilter() {
  const allLeaguesDiv = document.createElement('div');
  allLeaguesDiv.textContent = 'All Leagues';
  allLeaguesDiv.onclick = function () {
    selectedLeagues = [];
    dropdownButton.innerHTML = this.innerHTML;
    filterClubsByLeague();
  };
  dropdownContent.appendChild(allLeaguesDiv);

  dropdownContent.appendChild(document.createElement('hr'));

  for (const [league, logo] of Object.entries(leagueLogos)) {
    const div = document.createElement('div');
    const img = document.createElement('img');
    img.src = logo;
    img.style.height = '20px';
    img.style.marginRight = '10px';
    img.style.pointerEvents = 'none';
    div.appendChild(img);

    const textNode = document.createTextNode(league);
    div.appendChild(textNode);
    div.onclick = function () {
      const selectedLeague = this.textContent.trim();
      const index = selectedLeagues.indexOf(selectedLeague);
      if (index === -1) {
        selectedLeagues.push(selectedLeague);
        dropdownButton.innerHTML = selectedLeagues.join(', ');
      } else {
        selectedLeagues.splice(index, 1);
        dropdownButton.innerHTML = selectedLeagues.join(', ');
      }
      updateSelectedLeagues();
      filterClubsByLeague();
    };
    dropdownContent.appendChild(div);
  }
}
function updateSelectedLeagues() {
  for (const div of dropdownContent.children) {
    if (selectedLeagues.includes(div.textContent.trim())) {
      div.classList.add('selected');
    } else {
      div.classList.remove('selected');
    }
  }
}

createLeagueFilter();


const dropdownContainer = document.getElementById('dropdown-button');
dropdownContainer.style.zIndex = '0'; // Set a higher z-index value for the dropdown




function RadiusSlider(clubs) {
const radiusSlider = document.getElementById('radius-slider');
const radiusValue = document.getElementById('radius-value');
let userLocation;

if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(
    (position) => {
      const { latitude, longitude } = position.coords;
      userLocation = L.latLng(latitude, longitude);

      // Set the initial radius circle based on the user's location
      const initialRadius = parseInt(radiusSlider.value);
      setRadiusCircle(initialRadius);

      // Update radius circle and filtered markers when the slider value changes
      radiusSlider.addEventListener('input', (e) => {
        const searchRadius = parseInt(e.target.value);
        setRadiusCircle(searchRadius);
        filterMarkers(searchRadius);
      });

      // Function to set the radius circle on the map
      function setRadiusCircle(radius) {
        // Update radius value display
        if (radius === parseInt(radiusSlider.max)) {
          radiusValue.textContent = 'ALL';
        } else {
          radiusValue.textContent = radius;
        }

        // Clear previous radius circle
        if (window.radius) map.removeLayer(window.radius);

        // Set new radius circle
        window.radius = L.circle(userLocation, {
          radius: radius * 1000, // Convert to meters
          color: 'rgba(0, 0, 0, 0.0)', // Light gray with transparency
          fillOpacity: 0.2,
        }).addTo(map);
      }

      // Function to filter markers based on the search radius and league filter
      function filterMarkers(searchRadius) {
    const leagueFilter = dropdownButton.innerText;

    for (const club of clubs) {
      const clubLatLng = L.latLng(club.latitude, club.longitude);
      if (
        clubLatLng.distanceTo(userLocation) <= searchRadius * 1000 //&&
        //(leagueFilter === 'All Leagues' || club.league === leagueFilter)
      ) {
        clubMarkers[club.clubName].addTo(map);
      } else {
        clubMarkers[club.clubName].removeFrom(map); // Corrected line
      }
    }
  }


    },
    (error) => {
      console.error('Error retrieving location:', error);
    }
  );
} else {
  console.error('Geolocation is not supported by this browser.');
}

}





  function displayAllMarkers() {
  for (const club of clubs) {
    clubMarkers[club.name].addTo(map);
  }
}




function getUserLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      (position) => {
        const { latitude, longitude } = position.coords;
        const userLocation = L.latLng(latitude, longitude);
        map.setView(userLocation, 12); // Set the map center to the user's location

        // Create the outer circle with more opacity
        const outerCircle = L.circle(userLocation, {
          color: 'blue',
          fillColor: 'blue',
          fillOpacity: 0.2,
          radius: 15,
        }).addTo(map);

        // Create the inner circle
        const innerCircle = L.circle(userLocation, {
          color: 'blue',
          fillColor: 'blue',
          fillOpacity: 0.5,
          radius: 30,
        }).addTo(map);


      },
      (error) => {
        console.error('Error retrieving location:', error);
      }
    );
  } else {
    console.error('Geolocation is not supported by this browser.');
  }
}

window.addEventListener('load', () => {
  getUserLocation();
});


</script>
</body>
</html>
